{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _eventdispatcher = require('eventdispatcher');\n\nvar _eventdispatcher2 = _interopRequireDefault(_eventdispatcher);\n\nvar _scrollParent = require('./scroll-parent');\n\nvar _scrollParent2 = _interopRequireDefault(_scrollParent);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar ScrollFeatures = function (_EventDispatcher) {\n  (0, _inherits3.default)(ScrollFeatures, _EventDispatcher);\n\n  ScrollFeatures.getInstance = function getInstance(scrollTarget, options) {\n    if (!scrollTarget.scrollFeatures) {\n      return new ScrollFeatures(scrollTarget, options);\n    }\n\n    return scrollTarget.scrollFeatures;\n  };\n\n  ScrollFeatures.hasInstance = function hasInstance(scrollTarget) {\n    return typeof scrollTarget.scrollFeatures !== 'undefined';\n  };\n\n  ScrollFeatures.getScrollParent = function getScrollParent(element) {\n    return (0, _scrollParent2.default)(element);\n  };\n\n  (0, _createClass3.default)(ScrollFeatures, null, [{\n    key: 'windowY',\n    get: function get() {\n      return window.pageYOffset || window.scrollY || 0;\n    }\n  }, {\n    key: 'windowX',\n    get: function get() {\n      return window.pageXOffset || window.scrollX || 0;\n    }\n  }, {\n    key: 'documentHeight',\n    get: function get() {\n      return Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight);\n    }\n  }, {\n    key: 'documentWidth',\n    get: function get() {\n      return Math.max(document.body.scrollWidth, document.body.offsetWidth, document.documentElement.clientWidth, document.documentElement.scrollWidth, document.documentElement.offsetWidth);\n    }\n  }]);\n\n  function ScrollFeatures() {\n    var scrollTarget = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, ScrollFeatures);\n\n    if (ScrollFeatures.hasInstance(scrollTarget)) {\n      var _ret;\n\n      return _ret = ScrollFeatures.getInstance(scrollTarget), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _EventDispatcher.call(this, {\n      target: scrollTarget\n    }));\n\n    _this._scrollTarget = null;\n    _this._y = 0;\n    _this._x = 0;\n    _this._speedY = 0;\n    _this._maxSpeedY = 0;\n    _this._speedX = 0;\n    _this._lastSpeed = 0;\n    _this._lastDirectionY = ScrollFeatures.direction.none;\n    _this._lastDirectionX = ScrollFeatures.direction.none;\n    _this._stopFrames = 3;\n    _this._currentStopFrames = 0;\n    _this._firstRender = true;\n    _this._directionY = ScrollFeatures.direction.none;\n    _this._directionX = ScrollFeatures.direction.none;\n    _this._scrolling = false;\n    _this._canScrollY = false;\n    _this._canScrollX = false;\n    scrollTarget.scrollFeatures = _this;\n    _this._scrollTarget = scrollTarget;\n    _this.cancelFrame = false;\n    _this.options = options;\n\n    _this.init();\n\n    return _this;\n  }\n\n  ScrollFeatures.prototype.init = function init() {\n    var _this2 = this;\n\n    this.getScrollPosition = this._scrollTarget === window ? function () {\n      return {\n        y: ScrollFeatures.windowY,\n        x: ScrollFeatures.windowX\n      };\n    }.bind(this) : function () {\n      return {\n        y: this._scrollTarget.scrollTop,\n        x: this._scrollTarget.scrollLeft\n      };\n    }.bind(this);\n\n    this.onResize = function () {\n      _this2.trigger(ScrollFeatures.events.SCROLL_RESIZE);\n    };\n\n    this.onScroll = this.onScroll.bind(this);\n    this.onNextFrame = this.onNextFrame.bind(this);\n    this.updateScrollPosition();\n\n    if (this._scrollTarget !== window) {\n      var regex = /(auto|scroll)/;\n      var style = window.getComputedStyle(this._scrollTarget, null);\n      this._canScrollY = regex.test(style.getPropertyValue('overflow-y'));\n      this._canScrollX = regex.test(style.getPropertyValue('overflow-x'));\n    } else {\n      this._canScrollY = this.clientHeight < this.scrollHeight;\n      this._canScrollX = this.clientWidth < this.scrollWidth;\n    }\n\n    if (this._scrollTarget.addEventListener) {\n      this._scrollTarget.addEventListener('scroll', this.onScroll, false);\n\n      this._scrollTarget.addEventListener('resize', this.onResize, false);\n    } else if (this._scrollTarget.attachEvent) {\n      this._scrollTarget.attachEvent('scroll', this.onScroll);\n\n      this._scrollTarget.attachEvent('resize', this.onResize);\n    }\n  };\n\n  ScrollFeatures.prototype.destroy = function destroy() {\n    this._cancelNextFrame();\n\n    _EventDispatcher.prototype.destroy.call(this);\n\n    if (this._scrollTarget) {\n      if (this._scrollTarget.addEventListener) {\n        this._scrollTarget.removeEventListener('scroll', this.onScroll);\n\n        this._scrollTarget.removeEventListener('resize', this.onResize);\n      } else if (this._scrollTarget.attachEvent) {\n        this._scrollTarget.detachEvent('scroll', this.onScroll);\n\n        this._scrollTarget.detachEvent('resize', this.onResize);\n      }\n    } // this.onResize = null;\n    // this.onScroll = null;\n    // this.getScrollPosition = null;\n    // this.onNextFrame = null;\n\n\n    delete this._scrollTarget.scrollFeatures;\n    this._scrollTarget = null;\n  };\n\n  ScrollFeatures.prototype.updateScrollPosition = function updateScrollPosition() {\n    this._y = this.y;\n    this._x = this.x;\n  };\n\n  ScrollFeatures.prototype.onScroll = function onScroll() {\n    this._currentStopFrames = 0;\n\n    if (this._firstRender) {\n      this._firstRender = false;\n\n      if (this.y > 1 || this.x > 1) {\n        this.updateScrollPosition();\n        this.trigger(ScrollFeatures.events.SCROLL_PROGRESS);\n        return;\n      }\n    }\n\n    if (!this._scrolling) {\n      this._scrolling = true;\n      this._maxSpeedY = 0;\n      this._lastDirectionY = ScrollFeatures.direction.none;\n      this._lastDirectionX = ScrollFeatures.direction.none;\n      this.trigger(ScrollFeatures.events.SCROLL_START);\n      this.cancelFrame = false;\n      (0, _raf2.default)(this.onNextFrame);\n    }\n  };\n\n  ScrollFeatures.prototype.onNextFrame = function onNextFrame() {\n    if (!this.cancelFrame) {\n      this._speedY = this._y - this.y;\n      this._speedX = this._x - this.x;\n\n      if (this._speedY < 0) {\n        this._maxSpeedY = this._speedY < this._maxSpeedY ? this._speedY : this._maxSpeedY;\n      } else if (this._speedY > 0) {\n        this._maxSpeedY = this._speedY > this._maxSpeedY ? this._speedY : this._maxSpeedY;\n      }\n\n      var speed = +this.speedY + +this.speedX;\n\n      if (this._scrolling && speed === 0 && this._currentStopFrames++ > this._stopFrames) {\n        this.onScrollStop();\n        return;\n      }\n\n      this.updateScrollPosition();\n\n      if (this._lastDirectionY !== this.directionY) {\n        this.trigger('scroll:' + (this.directionY === ScrollFeatures.direction.down ? 'down' : 'up'));\n      }\n\n      if (this._lastDirectionX !== this.directionX) {\n        this.trigger('scroll:' + (this.directionX === ScrollFeatures.direction.right ? 'right' : 'left'));\n      }\n\n      this._lastDirectionY = this.directionY;\n      this._lastDirectionX = this.directionX;\n      this.trigger(ScrollFeatures.events.SCROLL_PROGRESS);\n      (0, _raf2.default)(this.onNextFrame);\n    }\n  };\n\n  ScrollFeatures.prototype.onScrollStop = function onScrollStop() {\n    this._cancelNextFrame();\n\n    this._scrolling = false;\n\n    if (this._scrollTarget) {\n      this.updateScrollPosition();\n      this.trigger(ScrollFeatures.events.SCROLL_STOP);\n\n      if (this._canScrollY) {\n        if (this.y <= 0) {\n          this.trigger(ScrollFeatures.events.SCROLL_MIN);\n        } else if (this.y + this.clientHeight >= this.scrollHeight) {\n          this.trigger(ScrollFeatures.events.SCROLL_MAX);\n        }\n      }\n\n      if (this._canScrollX) {\n        if (this.x <= 0) {\n          this.trigger(ScrollFeatures.events.SCROLL_MIN);\n        } else if (this.x + this.clientWidth >= this.scrollWidth) {\n          this.trigger(ScrollFeatures.events.SCROLL_MAX);\n        }\n      }\n    } else {\n      this.trigger(ScrollFeatures.events.SCROLL_STOP);\n    }\n  };\n\n  ScrollFeatures.prototype._cancelNextFrame = function _cancelNextFrame() {\n    this.cancelFrame = true;\n    this._currentStopFrames = 0;\n  };\n\n  (0, _createClass3.default)(ScrollFeatures, [{\n    key: 'scrollPosition',\n    get: function get() {\n      return this.getScrollPosition();\n    }\n  }, {\n    key: 'directionY',\n    get: function get() {\n      if (!this._canScrollY || this.speedY === 0 && !this._scrolling) {\n        this._directionY = ScrollFeatures.direction.none;\n      } else {\n        if (this.speedY > 0) {\n          this._directionY = ScrollFeatures.direction.up;\n        } else if (this.speedY < 0) {\n          this._directionY = ScrollFeatures.direction.down;\n        }\n      }\n\n      return this._directionY;\n    }\n  }, {\n    key: 'directionX',\n    get: function get() {\n      if (!this._canScrollX || this.speedX === 0 && !this._scrolling) {\n        this._directionX = ScrollFeatures.direction.none;\n      } else {\n        if (this.speedX > 0) {\n          this._directionX = ScrollFeatures.direction.left;\n        } else if (this.speedX < 0) {\n          this._directionX = ScrollFeatures.direction.right;\n        }\n      }\n\n      return this._directionX;\n    }\n  }, {\n    key: 'scrollTarget',\n    get: function get() {\n      return this._scrollTarget;\n    }\n  }, {\n    key: 'scrolling',\n    get: function get() {\n      return this._scrolling;\n    }\n  }, {\n    key: 'speedY',\n    get: function get() {\n      return this._speedY;\n    }\n  }, {\n    key: 'speedX',\n    get: function get() {\n      return this._speedX;\n    }\n  }, {\n    key: 'maxSpeedY',\n    get: function get() {\n      return this._maxSpeedY;\n    }\n  }, {\n    key: 'canScrollY',\n    get: function get() {\n      return this._canScrollY;\n    }\n  }, {\n    key: 'canScrollX',\n    get: function get() {\n      return this._canScrollX;\n    }\n  }, {\n    key: 'y',\n    get: function get() {\n      return this.scrollPosition.y;\n    }\n  }, {\n    key: 'x',\n    get: function get() {\n      return this.scrollPosition.x;\n    }\n  }, {\n    key: 'clientHeight',\n    get: function get() {\n      return this._scrollTarget === window ? window.innerHeight : this._scrollTarget.clientHeight;\n    }\n  }, {\n    key: 'clientWidth',\n    get: function get() {\n      return this._scrollTarget === window ? window.innerWidth : this._scrollTarget.clientWidth;\n    }\n  }, {\n    key: 'scrollHeight',\n    get: function get() {\n      return this._scrollTarget === window ? ScrollFeatures.documentHeight : this._scrollTarget.scrollHeight;\n    }\n  }, {\n    key: 'scrollWidth',\n    get: function get() {\n      return this._scrollTarget === window ? ScrollFeatures.documentWidth : this._scrollTarget.scrollWidth;\n    }\n  }]);\n  return ScrollFeatures;\n}(_eventdispatcher2.default);\n\nScrollFeatures.direction = {\n  up: -1,\n  down: 1,\n  none: 0,\n  right: 2,\n  left: -2\n};\nScrollFeatures.events = {\n  SCROLL_PROGRESS: 'scroll:progress',\n  SCROLL_START: 'scroll:start',\n  SCROLL_STOP: 'scroll:stop',\n  SCROLL_DOWN: 'scroll:down',\n  SCROLL_UP: 'scroll:up',\n  SCROLL_MIN: 'scroll:min',\n  SCROLL_MAX: 'scroll:max',\n  SCROLL_RESIZE: 'scroll:resize'\n};\nexports.default = ScrollFeatures;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["C:/Users/lawrence/CORD-19/frontend/node_modules/scrollfeatures/lib/scrollfeatures.js"],"names":["exports","__esModule","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_possibleConstructorReturn2","_possibleConstructorReturn3","_createClass2","_createClass3","_inherits2","_inherits3","_eventdispatcher","_eventdispatcher2","_scrollParent","_scrollParent2","_raf","_raf2","obj","default","ScrollFeatures","_EventDispatcher","getInstance","scrollTarget","options","scrollFeatures","hasInstance","getScrollParent","element","key","get","window","pageYOffset","scrollY","pageXOffset","scrollX","Math","max","document","body","scrollHeight","offsetHeight","documentElement","clientHeight","scrollWidth","offsetWidth","clientWidth","arguments","length","undefined","_ret","_this","call","target","_scrollTarget","_y","_x","_speedY","_maxSpeedY","_speedX","_lastSpeed","_lastDirectionY","direction","none","_lastDirectionX","_stopFrames","_currentStopFrames","_firstRender","_directionY","_directionX","_scrolling","_canScrollY","_canScrollX","cancelFrame","init","prototype","_this2","getScrollPosition","y","windowY","x","windowX","bind","scrollTop","scrollLeft","onResize","trigger","events","SCROLL_RESIZE","onScroll","onNextFrame","updateScrollPosition","regex","style","getComputedStyle","test","getPropertyValue","addEventListener","attachEvent","destroy","_cancelNextFrame","removeEventListener","detachEvent","SCROLL_PROGRESS","SCROLL_START","speed","speedY","speedX","onScrollStop","directionY","down","directionX","right","SCROLL_STOP","SCROLL_MIN","SCROLL_MAX","up","left","scrollPosition","innerHeight","innerWidth","documentHeight","documentWidth","SCROLL_DOWN","SCROLL_UP","module"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _eventdispatcher = require('eventdispatcher');\n\nvar _eventdispatcher2 = _interopRequireDefault(_eventdispatcher);\n\nvar _scrollParent = require('./scroll-parent');\n\nvar _scrollParent2 = _interopRequireDefault(_scrollParent);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ScrollFeatures = function (_EventDispatcher) {\n  (0, _inherits3.default)(ScrollFeatures, _EventDispatcher);\n\n  ScrollFeatures.getInstance = function getInstance(scrollTarget, options) {\n    if (!scrollTarget.scrollFeatures) {\n      return new ScrollFeatures(scrollTarget, options);\n    }\n    return scrollTarget.scrollFeatures;\n  };\n\n  ScrollFeatures.hasInstance = function hasInstance(scrollTarget) {\n    return typeof scrollTarget.scrollFeatures !== 'undefined';\n  };\n\n  ScrollFeatures.getScrollParent = function getScrollParent(element) {\n    return (0, _scrollParent2.default)(element);\n  };\n\n  (0, _createClass3.default)(ScrollFeatures, null, [{\n    key: 'windowY',\n    get: function get() {\n      return window.pageYOffset || window.scrollY || 0;\n    }\n  }, {\n    key: 'windowX',\n    get: function get() {\n      return window.pageXOffset || window.scrollX || 0;\n    }\n  }, {\n    key: 'documentHeight',\n    get: function get() {\n      return Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight);\n    }\n  }, {\n    key: 'documentWidth',\n    get: function get() {\n      return Math.max(document.body.scrollWidth, document.body.offsetWidth, document.documentElement.clientWidth, document.documentElement.scrollWidth, document.documentElement.offsetWidth);\n    }\n  }]);\n\n  function ScrollFeatures() {\n    var scrollTarget = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, ScrollFeatures);\n\n\n    if (ScrollFeatures.hasInstance(scrollTarget)) {\n      var _ret;\n\n      return _ret = ScrollFeatures.getInstance(scrollTarget), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _EventDispatcher.call(this, { target: scrollTarget }));\n\n    _this._scrollTarget = null;\n    _this._y = 0;\n    _this._x = 0;\n    _this._speedY = 0;\n    _this._maxSpeedY = 0;\n    _this._speedX = 0;\n    _this._lastSpeed = 0;\n    _this._lastDirectionY = ScrollFeatures.direction.none;\n    _this._lastDirectionX = ScrollFeatures.direction.none;\n    _this._stopFrames = 3;\n    _this._currentStopFrames = 0;\n    _this._firstRender = true;\n    _this._directionY = ScrollFeatures.direction.none;\n    _this._directionX = ScrollFeatures.direction.none;\n    _this._scrolling = false;\n    _this._canScrollY = false;\n    _this._canScrollX = false;\n\n\n    scrollTarget.scrollFeatures = _this;\n    _this._scrollTarget = scrollTarget;\n    _this.cancelFrame = false;\n    _this.options = options;\n\n    _this.init();\n    return _this;\n  }\n\n  ScrollFeatures.prototype.init = function init() {\n    var _this2 = this;\n\n    this.getScrollPosition = this._scrollTarget === window ? function () {\n      return { y: ScrollFeatures.windowY, x: ScrollFeatures.windowX };\n    }.bind(this) : function () {\n      return { y: this._scrollTarget.scrollTop, x: this._scrollTarget.scrollLeft };\n    }.bind(this);\n\n    this.onResize = function () {\n      _this2.trigger(ScrollFeatures.events.SCROLL_RESIZE);\n    };\n    this.onScroll = this.onScroll.bind(this);\n    this.onNextFrame = this.onNextFrame.bind(this);\n\n    this.updateScrollPosition();\n\n    if (this._scrollTarget !== window) {\n      var regex = /(auto|scroll)/;\n      var style = window.getComputedStyle(this._scrollTarget, null);\n      this._canScrollY = regex.test(style.getPropertyValue('overflow-y'));\n      this._canScrollX = regex.test(style.getPropertyValue('overflow-x'));\n    } else {\n      this._canScrollY = this.clientHeight < this.scrollHeight;\n      this._canScrollX = this.clientWidth < this.scrollWidth;\n    }\n\n    if (this._scrollTarget.addEventListener) {\n      this._scrollTarget.addEventListener('scroll', this.onScroll, false);\n      this._scrollTarget.addEventListener('resize', this.onResize, false);\n    } else if (this._scrollTarget.attachEvent) {\n      this._scrollTarget.attachEvent('scroll', this.onScroll);\n      this._scrollTarget.attachEvent('resize', this.onResize);\n    }\n  };\n\n  ScrollFeatures.prototype.destroy = function destroy() {\n\n    this._cancelNextFrame();\n    _EventDispatcher.prototype.destroy.call(this);\n\n    if (this._scrollTarget) {\n      if (this._scrollTarget.addEventListener) {\n        this._scrollTarget.removeEventListener('scroll', this.onScroll);\n        this._scrollTarget.removeEventListener('resize', this.onResize);\n      } else if (this._scrollTarget.attachEvent) {\n        this._scrollTarget.detachEvent('scroll', this.onScroll);\n        this._scrollTarget.detachEvent('resize', this.onResize);\n      }\n    }\n\n    // this.onResize = null;\n    // this.onScroll = null;\n    // this.getScrollPosition = null;\n    // this.onNextFrame = null;\n    delete this._scrollTarget.scrollFeatures;\n    this._scrollTarget = null;\n  };\n\n  ScrollFeatures.prototype.updateScrollPosition = function updateScrollPosition() {\n    this._y = this.y;\n    this._x = this.x;\n  };\n\n  ScrollFeatures.prototype.onScroll = function onScroll() {\n    this._currentStopFrames = 0;\n    if (this._firstRender) {\n      this._firstRender = false;\n      if (this.y > 1 || this.x > 1) {\n        this.updateScrollPosition();\n        this.trigger(ScrollFeatures.events.SCROLL_PROGRESS);\n        return;\n      }\n    }\n\n    if (!this._scrolling) {\n      this._scrolling = true;\n      this._maxSpeedY = 0;\n      this._lastDirectionY = ScrollFeatures.direction.none;\n      this._lastDirectionX = ScrollFeatures.direction.none;\n      this.trigger(ScrollFeatures.events.SCROLL_START);\n      this.cancelFrame = false;\n      (0, _raf2.default)(this.onNextFrame);\n    }\n  };\n\n  ScrollFeatures.prototype.onNextFrame = function onNextFrame() {\n    if (!this.cancelFrame) {\n      this._speedY = this._y - this.y;\n      this._speedX = this._x - this.x;\n\n      if (this._speedY < 0) {\n        this._maxSpeedY = this._speedY < this._maxSpeedY ? this._speedY : this._maxSpeedY;\n      } else if (this._speedY > 0) {\n        this._maxSpeedY = this._speedY > this._maxSpeedY ? this._speedY : this._maxSpeedY;\n      }\n\n      var speed = +this.speedY + +this.speedX;\n      if (this._scrolling && speed === 0 && this._currentStopFrames++ > this._stopFrames) {\n        this.onScrollStop();\n        return;\n      }\n\n      this.updateScrollPosition();\n\n      if (this._lastDirectionY !== this.directionY) {\n        this.trigger('scroll:' + (this.directionY === ScrollFeatures.direction.down ? 'down' : 'up'));\n      }\n      if (this._lastDirectionX !== this.directionX) {\n        this.trigger('scroll:' + (this.directionX === ScrollFeatures.direction.right ? 'right' : 'left'));\n      }\n\n      this._lastDirectionY = this.directionY;\n      this._lastDirectionX = this.directionX;\n\n      this.trigger(ScrollFeatures.events.SCROLL_PROGRESS);\n\n      (0, _raf2.default)(this.onNextFrame);\n    }\n  };\n\n  ScrollFeatures.prototype.onScrollStop = function onScrollStop() {\n\n    this._cancelNextFrame();\n    this._scrolling = false;\n\n    if (this._scrollTarget) {\n      this.updateScrollPosition();\n\n      this.trigger(ScrollFeatures.events.SCROLL_STOP);\n\n      if (this._canScrollY) {\n        if (this.y <= 0) {\n          this.trigger(ScrollFeatures.events.SCROLL_MIN);\n        } else if (this.y + this.clientHeight >= this.scrollHeight) {\n          this.trigger(ScrollFeatures.events.SCROLL_MAX);\n        }\n      }\n\n      if (this._canScrollX) {\n        if (this.x <= 0) {\n          this.trigger(ScrollFeatures.events.SCROLL_MIN);\n        } else if (this.x + this.clientWidth >= this.scrollWidth) {\n          this.trigger(ScrollFeatures.events.SCROLL_MAX);\n        }\n      }\n    } else {\n      this.trigger(ScrollFeatures.events.SCROLL_STOP);\n    }\n  };\n\n  ScrollFeatures.prototype._cancelNextFrame = function _cancelNextFrame() {\n    this.cancelFrame = true;\n    this._currentStopFrames = 0;\n  };\n\n  (0, _createClass3.default)(ScrollFeatures, [{\n    key: 'scrollPosition',\n    get: function get() {\n      return this.getScrollPosition();\n    }\n  }, {\n    key: 'directionY',\n    get: function get() {\n      if (!this._canScrollY || this.speedY === 0 && !this._scrolling) {\n        this._directionY = ScrollFeatures.direction.none;\n      } else {\n        if (this.speedY > 0) {\n          this._directionY = ScrollFeatures.direction.up;\n        } else if (this.speedY < 0) {\n          this._directionY = ScrollFeatures.direction.down;\n        }\n      }\n      return this._directionY;\n    }\n  }, {\n    key: 'directionX',\n    get: function get() {\n      if (!this._canScrollX || this.speedX === 0 && !this._scrolling) {\n        this._directionX = ScrollFeatures.direction.none;\n      } else {\n        if (this.speedX > 0) {\n          this._directionX = ScrollFeatures.direction.left;\n        } else if (this.speedX < 0) {\n          this._directionX = ScrollFeatures.direction.right;\n        }\n      }\n      return this._directionX;\n    }\n  }, {\n    key: 'scrollTarget',\n    get: function get() {\n      return this._scrollTarget;\n    }\n  }, {\n    key: 'scrolling',\n    get: function get() {\n      return this._scrolling;\n    }\n  }, {\n    key: 'speedY',\n    get: function get() {\n      return this._speedY;\n    }\n  }, {\n    key: 'speedX',\n    get: function get() {\n      return this._speedX;\n    }\n  }, {\n    key: 'maxSpeedY',\n    get: function get() {\n      return this._maxSpeedY;\n    }\n  }, {\n    key: 'canScrollY',\n    get: function get() {\n      return this._canScrollY;\n    }\n  }, {\n    key: 'canScrollX',\n    get: function get() {\n      return this._canScrollX;\n    }\n  }, {\n    key: 'y',\n    get: function get() {\n      return this.scrollPosition.y;\n    }\n  }, {\n    key: 'x',\n    get: function get() {\n      return this.scrollPosition.x;\n    }\n  }, {\n    key: 'clientHeight',\n    get: function get() {\n      return this._scrollTarget === window ? window.innerHeight : this._scrollTarget.clientHeight;\n    }\n  }, {\n    key: 'clientWidth',\n    get: function get() {\n      return this._scrollTarget === window ? window.innerWidth : this._scrollTarget.clientWidth;\n    }\n  }, {\n    key: 'scrollHeight',\n    get: function get() {\n      return this._scrollTarget === window ? ScrollFeatures.documentHeight : this._scrollTarget.scrollHeight;\n    }\n  }, {\n    key: 'scrollWidth',\n    get: function get() {\n      return this._scrollTarget === window ? ScrollFeatures.documentWidth : this._scrollTarget.scrollWidth;\n    }\n  }]);\n  return ScrollFeatures;\n}(_eventdispatcher2.default);\n\nScrollFeatures.direction = {\n  up: -1,\n  down: 1,\n  none: 0,\n  right: 2,\n  left: -2\n};\nScrollFeatures.events = {\n  SCROLL_PROGRESS: 'scroll:progress',\n  SCROLL_START: 'scroll:start',\n  SCROLL_STOP: 'scroll:stop',\n  SCROLL_DOWN: 'scroll:down',\n  SCROLL_UP: 'scroll:up',\n  SCROLL_MIN: 'scroll:min',\n  SCROLL_MAX: 'scroll:max',\n  SCROLL_RESIZE: 'scroll:resize'\n};\nexports.default = ScrollFeatures;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}