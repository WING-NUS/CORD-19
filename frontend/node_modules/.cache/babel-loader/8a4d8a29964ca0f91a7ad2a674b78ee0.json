{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lawrence\\\\CORD-19\\\\frontend\\\\src\\\\Components\\\\Compare.js\";\nimport React from \"react\";\nimport Axios from \"axios\";\nimport HeatMap from \"react-heatmap-grid\";\nimport Header from \"./Header\";\nimport Dropdown from \"react-dropdown\";\nimport Footer from \"./Footer\";\n\nclass Compare extends React.Component {\n  // const graph_type = props.location.state.graph_type;\n  constructor(props) {\n    super(props);\n\n    this.getData = async () => {\n      console.log(\"in get data\");\n      const url_graph_data = `https://cord19backend.herokuapp.com/compare/?y=${this.state.graph_type}`;\n      const result = await Axios.get(url_graph_data);\n      this.setState({\n        graph_data: result.data\n      });\n      console.log(url_graph_data);\n      console.log(result);\n      return /*#__PURE__*/React.createElement(HeatMap, {\n        xLabels: this.state.graph_data.Xaxis,\n        yLabels: this.state.graph_data.Yaxis,\n        xLabelsLocation: \"bottom\",\n        xLabelWidth: 100,\n        yLabelTextAlign: \"left\",\n        yLabelWidth: 150,\n        data: this.state.graph_data.numbers,\n        height: 80,\n        width: 200 // squares\n        ,\n        onClick: (x, y) => this.redirectToTarget(x, y),\n        cellStyle: (background, value, min, max, data, x, y) => ({\n          background: `rgba(66, 86, 244, ${1 - (max - value) / (max - min)})`,\n          fontSize: \"20px\"\n        }),\n        cellRender: value => value,\n        title: (value, unit) => `${value}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 7\n        }\n      });\n    };\n\n    this.get_graph_data = () => {\n      if (Object.keys(this.state.graph_data).length === 0 || this.state.graph_data === null) {\n        this.getData().then(this.Heatmap_show());\n      }\n    };\n\n    this.redirectToTarget = (x, y) => {\n      const to_check = `${this.state.graph_data.Xaxis[x]},${this.state.graph_data.Yaxis[y]}`;\n      console.log(x);\n      console.log(y);\n      console.log(to_check);\n      const article_group = this.state.graph_data.values[to_check];\n      const articless = article_group.articles;\n      this.props.history.push({\n        pathname: `/CompareArticles`,\n        state: {\n          articless: articless\n        }\n      });\n    };\n\n    this.state = {\n      selected: {\n        value: \"Study Type\",\n        label: \"Study Type\"\n      },\n      graph_data: {},\n      graph_type: props.location.state.graph_type\n    };\n    this.redirectToTarget = this.redirectToTarget.bind(this);\n    this._onSelect = this._onSelect.bind(this);\n    this.graph_title = this.graph_title.bind(this);\n    this.getData = this.getData.bind(this); // this.Heatmap_show = this.Heatmap_show.bind(this);\n\n    this.get_graph_data = this.get_graph_data.bind(this);\n  }\n\n  _onSelect(option) {\n    this.setState({\n      selected: option\n    });\n    this.props.history.push({\n      pathname: `/compare/${option.value}`,\n      state: {\n        graph_type: option.value\n      }\n    });\n  }\n\n  graph_title() {\n    var a = \"2D Compare graph of Period as X-axis and \";\n    var b = this.state.selected.label;\n    var c = \" as Y-axis\";\n    var title = a.concat(b, c);\n    return title;\n  }\n\n  Heatmap_show() {\n    console.log(\"here in heatmap_show\"); // if (\n    //   this.state.graph_data === null ||\n    //   Object.keys(this.state.graph_data).length === 0\n    // ) {\n    //   console.log(\"get data now\");\n    //   this.getData().then(() => {\n\n    return /*#__PURE__*/React.createElement(HeatMap, {\n      xLabels: this.state.graph_data.Xaxis,\n      yLabels: this.state.graph_data.Yaxis,\n      xLabelsLocation: \"bottom\",\n      xLabelWidth: 100,\n      yLabelTextAlign: \"left\",\n      yLabelWidth: 150,\n      data: this.state.graph_data.numbers,\n      height: 80,\n      width: 200 // squares\n      ,\n      onClick: (x, y) => this.redirectToTarget(x, y),\n      cellStyle: (background, value, min, max, data, x, y) => ({\n        background: `rgba(66, 86, 244, ${1 - (max - value) / (max - min)})`,\n        fontSize: \"20px\"\n      }),\n      cellRender: value => value,\n      title: (value, unit) => `${value}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }); //     console.log(\"displayed \");\n    //   });\n    // }\n  }\n\n  render() {\n    const defaultOption = this.state.selected;\n    const options = [{\n      value: \"Study Type\",\n      label: \"Study Type\"\n    }, {\n      value: \"Risk Factor\",\n      label: \"Risk Factor\"\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"control_panel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"article\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"control_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    }, \"Control Panel\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"article\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"control_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, \"2D Compare Function\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"answer-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }, \"X-axis:\", /*#__PURE__*/React.createElement(Dropdown, {\n      disabled: true,\n      options: [\"Publish Time\"],\n      placeholder: \"Publish Time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }), \"Y-axis:\", /*#__PURE__*/React.createElement(Dropdown, {\n      options: options,\n      onChange: this._onSelect,\n      value: this.state.selected,\n      placeholder: \"Select Y-axis\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"articles\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"article\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"control_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, this.graph_title())), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"answer-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, this.get_graph_data()))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default Compare;","map":{"version":3,"sources":["C:/Users/lawrence/CORD-19/frontend/src/Components/Compare.js"],"names":["React","Axios","HeatMap","Header","Dropdown","Footer","Compare","Component","constructor","props","getData","console","log","url_graph_data","state","graph_type","result","get","setState","graph_data","data","Xaxis","Yaxis","numbers","x","y","redirectToTarget","background","value","min","max","fontSize","unit","get_graph_data","Object","keys","length","then","Heatmap_show","to_check","article_group","values","articless","articles","history","push","pathname","selected","label","location","bind","_onSelect","graph_title","option","a","b","c","title","concat","render","defaultOption","options"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Axios from \"axios\";\r\nimport HeatMap from \"react-heatmap-grid\";\r\nimport Header from \"./Header\";\r\nimport Dropdown from \"react-dropdown\";\r\nimport Footer from \"./Footer\";\r\n\r\nclass Compare extends React.Component {\r\n  // const graph_type = props.location.state.graph_type;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selected: { value: \"Study Type\", label: \"Study Type\" },\r\n      graph_data: {},\r\n      graph_type: props.location.state.graph_type\r\n    };\r\n    this.redirectToTarget = this.redirectToTarget.bind(this);\r\n    this._onSelect = this._onSelect.bind(this);\r\n    this.graph_title = this.graph_title.bind(this);\r\n    this.getData = this.getData.bind(this);\r\n    // this.Heatmap_show = this.Heatmap_show.bind(this);\r\n    this.get_graph_data = this.get_graph_data.bind(this);\r\n  }\r\n\r\n  getData = async () => {\r\n    console.log(\"in get data\");\r\n    const url_graph_data = `https://cord19backend.herokuapp.com/compare/?y=${this.state.graph_type}`;\r\n    const result = await Axios.get(url_graph_data);\r\n    this.setState({ graph_data: result.data });\r\n    console.log(url_graph_data);\r\n    console.log(result);\r\n    return (\r\n      <HeatMap\r\n        xLabels={this.state.graph_data.Xaxis}\r\n        yLabels={this.state.graph_data.Yaxis}\r\n        xLabelsLocation={\"bottom\"}\r\n        xLabelWidth={100}\r\n        yLabelTextAlign={\"left\"}\r\n        yLabelWidth={150}\r\n        data={this.state.graph_data.numbers}\r\n        height={80}\r\n        width={200}\r\n        // squares\r\n        onClick={(x, y) => this.redirectToTarget(x, y)}\r\n        cellStyle={(background, value, min, max, data, x, y) => ({\r\n          background: `rgba(66, 86, 244, ${1 - (max - value) / (max - min)})`,\r\n          fontSize: \"20px\"\r\n        })}\r\n        cellRender={value => value}\r\n        title={(value, unit) => `${value}`}\r\n      />\r\n    );\r\n  };\r\n\r\n  get_graph_data = () => {\r\n    if (\r\n      Object.keys(this.state.graph_data).length === 0 ||\r\n      this.state.graph_data === null\r\n    ) {\r\n      this.getData().then(this.Heatmap_show());\r\n    }\r\n  };\r\n\r\n  redirectToTarget = (x, y) => {\r\n    const to_check = `${this.state.graph_data.Xaxis[x]},${this.state.graph_data.Yaxis[y]}`;\r\n    console.log(x);\r\n    console.log(y);\r\n    console.log(to_check);\r\n    const article_group = this.state.graph_data.values[to_check];\r\n    const articless = article_group.articles;\r\n\r\n    this.props.history.push({\r\n      pathname: `/CompareArticles`,\r\n      state: { articless: articless }\r\n    });\r\n  };\r\n\r\n  _onSelect(option) {\r\n    this.setState({ selected: option });\r\n    this.props.history.push({\r\n      pathname: `/compare/${option.value}`,\r\n      state: { graph_type: option.value }\r\n    });\r\n  }\r\n\r\n  graph_title() {\r\n    var a = \"2D Compare graph of Period as X-axis and \";\r\n    var b = this.state.selected.label;\r\n    var c = \" as Y-axis\";\r\n    var title = a.concat(b, c);\r\n    return title;\r\n  }\r\n\r\n  Heatmap_show() {\r\n    console.log(\"here in heatmap_show\");\r\n    // if (\r\n    //   this.state.graph_data === null ||\r\n    //   Object.keys(this.state.graph_data).length === 0\r\n    // ) {\r\n    //   console.log(\"get data now\");\r\n    //   this.getData().then(() => {\r\n    return (\r\n      <HeatMap\r\n        xLabels={this.state.graph_data.Xaxis}\r\n        yLabels={this.state.graph_data.Yaxis}\r\n        xLabelsLocation={\"bottom\"}\r\n        xLabelWidth={100}\r\n        yLabelTextAlign={\"left\"}\r\n        yLabelWidth={150}\r\n        data={this.state.graph_data.numbers}\r\n        height={80}\r\n        width={200}\r\n        // squares\r\n        onClick={(x, y) => this.redirectToTarget(x, y)}\r\n        cellStyle={(background, value, min, max, data, x, y) => ({\r\n          background: `rgba(66, 86, 244, ${1 - (max - value) / (max - min)})`,\r\n          fontSize: \"20px\"\r\n        })}\r\n        cellRender={value => value}\r\n        title={(value, unit) => `${value}`}\r\n      />\r\n    );\r\n    //     console.log(\"displayed \");\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  render() {\r\n    const defaultOption = this.state.selected;\r\n    const options = [\r\n      { value: \"Study Type\", label: \"Study Type\" },\r\n      { value: \"Risk Factor\", label: \"Risk Factor\" }\r\n    ];\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"header\">\r\n          <Header />\r\n        </div>\r\n\r\n        <div className=\"control_panel\">\r\n          <div className=\"article\">\r\n            <div className=\"control_title\">\r\n              <h2>Control Panel</h2>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"article\">\r\n            <div className=\"control_title\">\r\n              <h4>2D Compare Function</h4>\r\n            </div>\r\n            <div className=\"answer-list\">\r\n              X-axis:\r\n              <Dropdown\r\n                disabled\r\n                options={[\"Publish Time\"]}\r\n                placeholder=\"Publish Time\"\r\n              />\r\n              Y-axis:\r\n              <Dropdown\r\n                options={options}\r\n                onChange={this._onSelect}\r\n                value={this.state.selected}\r\n                placeholder=\"Select Y-axis\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"articles\">\r\n          <div className=\"article\">\r\n            <div className=\"control_title\">\r\n              <h2>{this.graph_title()}</h2>\r\n            </div>\r\n            <div className=\"answer-list\">{this.get_graph_data()}</div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Compare;\r\n"]},"metadata":{},"sourceType":"module"}