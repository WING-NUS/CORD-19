{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lawrence\\\\CORD-19\\\\frontend\\\\src\\\\Components\\\\SearchMain.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Axios from \"axios\";\nimport Article from \"./Article\";\nimport Footer from \"./Footer\";\nimport logo from \"./logo.png\";\nimport { NavLink } from \"react-router-dom\";\n\nclass SearchMain extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getData = async () => {\n      //url for search function\n      const url = `https://cord19backend.herokuapp.com/answer/?query=${this.state.query}`;\n\n      if (this.state.query !== \"\") {\n        const result = await Axios.get(url);\n        this.setState({\n          articles: result.data\n        });\n      }\n    };\n\n    this.get_articles = () => {\n      if (this.state.articles.length === 0) {\n        this.getData();\n      }\n    };\n\n    this.onChange = e => this.setState({\n      query: e.target.value\n    });\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      this.getData();\n      this.props.history.push({\n        pathname: `/search/query/${this.state.query}`,\n        state: {\n          articles: [],\n          query: this.state.query\n        }\n      });\n    };\n\n    this.state = {\n      query: props.location.state.query,\n      articles: props.location.state.articles\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.getData = this.getData.bind(this);\n    this.get_articles = this.get_articles.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: {\n        pathname: `/`\n      },\n      className: \"initial_button\",\n      activeClassName: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"logo\",\n      src: logo,\n      alt: \"Logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      className: \"search-form\",\n      htmlFor: \"search-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"query\",\n      value: this.state.query,\n      id: \"search-input\",\n      placeholder: this.state.query,\n      autoComplete: \"off\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"articles_main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, this.get_articles(), this.state.articles !== [] && this.state.articles.map(article => /*#__PURE__*/React.createElement(Article, {\n      key: article.paper_id,\n      article: article,\n      abstractHighlights: [],\n      abstractHighlightModel: \"sciwing\",\n      sentToDisplay: \"all\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default SearchMain;","map":{"version":3,"sources":["C:/Users/lawrence/CORD-19/frontend/src/Components/SearchMain.js"],"names":["React","useState","useEffect","Axios","Article","Footer","logo","NavLink","SearchMain","Component","constructor","props","getData","url","state","query","result","get","setState","articles","data","get_articles","length","onChange","e","target","value","onSubmit","preventDefault","history","push","pathname","location","bind","render","map","article","paper_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,SAASC,OAAT,QAAwB,kBAAxB;;AAEA,MAAMC,UAAN,SAAyBR,KAAK,CAACS,SAA/B,CAAyC;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAYnBC,OAZmB,GAYT,YAAY;AACpB;AACA,YAAMC,GAAG,GAAI,qDAAoD,KAAKC,KAAL,CAAWC,KAAM,EAAlF;;AAEA,UAAI,KAAKD,KAAL,CAAWC,KAAX,KAAqB,EAAzB,EAA6B;AAC3B,cAAMC,MAAM,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAUJ,GAAV,CAArB;AACA,aAAKK,QAAL,CAAc;AAAEC,UAAAA,QAAQ,EAAEH,MAAM,CAACI;AAAnB,SAAd;AACD;AACF,KApBkB;;AAAA,SAsBnBC,YAtBmB,GAsBJ,MAAM;AACnB,UAAI,KAAKP,KAAL,CAAWK,QAAX,CAAoBG,MAApB,KAA+B,CAAnC,EAAsC;AACpC,aAAKV,OAAL;AACD;AACF,KA1BkB;;AAAA,SA4BnBW,QA5BmB,GA4BRC,CAAC,IAAI,KAAKN,QAAL,CAAc;AAAEH,MAAAA,KAAK,EAAES,CAAC,CAACC,MAAF,CAASC;AAAlB,KAAd,CA5BG;;AAAA,SA8BnBC,QA9BmB,GA8BRH,CAAC,IAAI;AACdA,MAAAA,CAAC,CAACI,cAAF;AACA,WAAKhB,OAAL;AAEA,WAAKD,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,CAAwB;AACtBC,QAAAA,QAAQ,EAAG,iBAAgB,KAAKjB,KAAL,CAAWC,KAAM,EADtB;AAEtBD,QAAAA,KAAK,EAAE;AAAEK,UAAAA,QAAQ,EAAE,EAAZ;AAAgBJ,UAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC;AAAlC;AAFe,OAAxB;AAID,KAtCkB;;AAEjB,SAAKD,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAEJ,KAAK,CAACqB,QAAN,CAAelB,KAAf,CAAqBC,KADjB;AAEXI,MAAAA,QAAQ,EAAER,KAAK,CAACqB,QAAN,CAAelB,KAAf,CAAqBK;AAFpB,KAAb;AAIA,SAAKQ,QAAL,GAAgB,KAAKA,QAAL,CAAcM,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKV,QAAL,GAAgB,KAAKA,QAAL,CAAcU,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKrB,OAAL,GAAe,KAAKA,OAAL,CAAaqB,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKZ,YAAL,GAAoB,KAAKA,YAAL,CAAkBY,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AA8BDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AACE,MAAA,EAAE,EAAE;AACFH,QAAAA,QAAQ,EAAG;AADT,OADN;AAIE,MAAA,SAAS,EAAC,gBAJZ;AAKE,MAAA,eAAe,EAAC,QALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAsB,MAAA,GAAG,EAAEzB,IAA3B;AAAiC,MAAA,GAAG,EAAC,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF,eAUE;AACE,MAAA,QAAQ,EAAE,KAAKqB,QADjB;AAEE,MAAA,SAAS,EAAC,aAFZ;AAGE,MAAA,OAAO,EAAC,cAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,KAAK,EAAE,KAAKb,KAAL,CAAWC,KAHpB;AAIE,MAAA,EAAE,EAAC,cAJL;AAKE,MAAA,WAAW,EAAE,KAAKD,KAAL,CAAWC,KAL1B;AAME,MAAA,YAAY,EAAC,KANf;AAOE,MAAA,QAAQ,EAAE,KAAKQ,QAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,eAcE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,CAVF,CADF,eA6BE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKF,YAAL,EADH,EAEG,KAAKP,KAAL,CAAWK,QAAX,KAAwB,EAAxB,IACC,KAAKL,KAAL,CAAWK,QAAX,CAAoBgB,GAApB,CAAwBC,OAAO,iBAC7B,oBAAC,OAAD;AACE,MAAA,GAAG,EAAEA,OAAO,CAACC,QADf;AAEE,MAAA,OAAO,EAAED,OAFX;AAGE,MAAA,kBAAkB,EAAE,EAHtB;AAIE,MAAA,sBAAsB,EAAE,SAJ1B;AAKE,MAAA,aAAa,EAAE,KALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAHJ,CA7BF,eA0CE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA1CF,CADF;AA8CD;;AAxFsC;;AA2FzC,eAAe5B,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Article from \"./Article\";\r\nimport Footer from \"./Footer\";\r\nimport logo from \"./logo.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nclass SearchMain extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      query: props.location.state.query,\r\n      articles: props.location.state.articles\r\n    };\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.getData = this.getData.bind(this);\r\n    this.get_articles = this.get_articles.bind(this);\r\n  }\r\n\r\n  getData = async () => {\r\n    //url for search function\r\n    const url = `https://cord19backend.herokuapp.com/answer/?query=${this.state.query}`;\r\n\r\n    if (this.state.query !== \"\") {\r\n      const result = await Axios.get(url);\r\n      this.setState({ articles: result.data });\r\n    }\r\n  };\r\n\r\n  get_articles = () => {\r\n    if (this.state.articles.length === 0) {\r\n      this.getData();\r\n    }\r\n  };\r\n\r\n  onChange = e => this.setState({ query: e.target.value });\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    this.getData();\r\n\r\n    this.props.history.push({\r\n      pathname: `/search/query/${this.state.query}`,\r\n      state: { articles: [], query: this.state.query }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"header\">\r\n          <NavLink\r\n            to={{\r\n              pathname: `/`\r\n            }}\r\n            className=\"initial_button\"\r\n            activeClassName=\"active\"\r\n          >\r\n            <img className=\"logo\" src={logo} alt=\"Logo\" />\r\n          </NavLink>\r\n          <form\r\n            onSubmit={this.onSubmit}\r\n            className=\"search-form\"\r\n            htmlFor=\"search-input\"\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              name=\"query\"\r\n              value={this.state.query}\r\n              id=\"search-input\"\r\n              placeholder={this.state.query}\r\n              autoComplete=\"off\"\r\n              onChange={this.onChange}\r\n            />\r\n            <input type=\"submit\" value=\"Search\" />\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"articles_main\">\r\n          {this.get_articles()}\r\n          {this.state.articles !== [] &&\r\n            this.state.articles.map(article => (\r\n              <Article\r\n                key={article.paper_id}\r\n                article={article}\r\n                abstractHighlights={[]}\r\n                abstractHighlightModel={\"sciwing\"}\r\n                sentToDisplay={\"all\"}\r\n              />\r\n            ))}\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchMain;\r\n"]},"metadata":{},"sourceType":"module"}